///
/// @package @maddimathon/utility-sass@0.1.0-alpha.draft
/// @since 0.1.0-alpha.draft
///
// @use 'sass:color';
@use 'sass:list';
// @use 'sass:map';
// @use 'sass:math';
@use 'sass:meta';
// @use 'sass:selector';
@use 'sass:string';

// @use '../config';

// @use '01-01-meta' as *;

/// # LIST FUNCTIONS
/// ======================================================================== ///

///
/// Returns a single-level list.
///
/// @param {list}    $list       To flatten.
/// @param {?string} $separator  Optional. List separator. Default is determine via list.separator().
/// @param {?bool}   $bracketed  Optional. Whether list is bracketed. Default is determine via list.is-bracketed().
///
/// @return {list}
///
/// @since 0.1.0-alpha.draft
///
@function list-flatten($list, $separator: null, $bracketed: null) {
    @if meta.type-of($list) != list {
        @return $list;
    }

    @if $separator == null {
        $separator: list.separator($list);
    }

    @if $bracketed == null {
        $bracketed: list.is-bracketed($list);
    }

    $return: list.join((), (), $separator: $separator, $bracketed: $bracketed);

    @each $value in $list {
        @if meta.type-of($value) == list {
            $value: list-flatten($value);
        } @else {
            $value: ($value);
        }
        $return: list.append($return, $value, $separator: $separator);
    }

    @return $return;
}

///
/// Makes a list of unique strings, based on their interpolated values.
///
/// @param {list}    $list       To flatten.
/// @param {?string} $separator  Optional. List separator. Default is determine via list.separator().
/// @param {?bool}   $bracketed  Optional. Whether list is bracketed. Default is determine via list.is-bracketed().
///
/// @return {list}
///
@function list-unique($list, $separator: null, $bracketed: null) {
    // returns
    @if meta.type-of($list) != list {
        @return $list;
    }

    // returns
    @if list.length($list) <= 1 {
        @return $list;
    }

    @if $separator == null {
        $separator: list.separator($list);
    }

    @if $bracketed == null {
        $bracketed: list.is-bracketed($list);
    }

    $test: ();
    $return: list.join((), (), $separator: $separator, $bracketed: $bracketed);

    @each $value in $list {
        @if string.length('#{$value}') and
            list.index($test, '#{$value}') ==
            null
        {
            $return: list.append($return, $value, $separator: $separator);
            $test: list.append($test, '#{$value}');
        }
    }

    @return $return;
}
