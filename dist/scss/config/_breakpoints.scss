///
/// @package @maddimathon/utility-sass@0.1.0-alpha.25
/// @since 0.1.0-pre.0
///
@use 'sass:map';
// @use 'sass:string';

@forward 'widths';

@use 'functions' as *;

@use 'widths' as *;

/// # CONFIG - BREAKPOINTS
/// ======================================================================== ///

$_breakpoint_mobile: 25;
$_breakpoint_tablet: 50;

$_width_content: map.get($widths, 'content');
$_width_page: map.get($widths, 'page');
$_width_sidebar: map.get($widths, 'sidebar');

///
/// A map (merged with the defaults) of breakpoints used with the breakpoint
/// mixins and --width-X properties.
///
/// Default keys are 'mobile', 'tablet', and 'indent'. After merging, values are
/// rounded with config-round-to-pixel().
///
/// @since 0.1.0-pre.0
///
$breakpoints: () !default;

$breakpoints: map.deep-merge(
    (
        'mobile': $_breakpoint_mobile,
        'tablet': $_breakpoint_tablet,

        'content': $_width_content,
        'page': $_width_page,
        'sidebar': calc(
                (($_width_page - $_width_sidebar) + ($_width_sidebar * 3 / 4))
            ),
        'indent': if(
                map.has-key($breakpoints, 'mobile'),
                map.get($breakpoints, 'mobile'),
                $_breakpoint_mobile
            ),
    ),
    $breakpoints
);

@each $key, $value in $breakpoints {
    $breakpoints: map.set($breakpoints, $key, config-round-to-pixel($value));
}
