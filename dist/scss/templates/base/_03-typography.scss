///
/// @package @maddimathon/utility-sass@0.1.0-alpha.draft
/// @since 0.1.0-alpha.draft
///
// @use 'sass:color';
// @use 'sass:list';
// @use 'sass:map';
// @use 'sass:math';
// @use 'sass:meta';
// @use 'sass:selector';
@use 'sass:string';

@use 'config';
@use 'tokens';

@use '../../index' as *;

/* # TYPOGRAPHY
 * ======================================================================== */

#{config.$selector_root} {
    line-height: #{var-line-height('400')};
}

#{config.$selector_body} {
}

::selection {
    background-color: Highlight;
    color: HighlightText;
}

/* ## Typography - Inline ==================================== */

strong,
b {
    font-weight: 700;

    strong {
        font-weight: 800;

        strong {
            font-weight: 900;
        }
    }
}

em,
i {
    font-style: italic;

    em {
        font-style: normal;

        em {
            font-style: italic;
        }
    }
}

a {
    display: inline;
    border: none;
    text-decoration: underline #{var-stroke-relative('200')};
    color: LinkText;

    /// STATES ///

    @include hover-focus-visible((string.unquote('&:active'))) {
        outline-color: ActiveText;
        color: ActiveText;
        opacity: 0.75;

        @include colour-mode((high, forced-colors)) {
            opacity: 1;
        }
    }

    /// EXCEPTIONS ///

    &.no-style {
        text-decoration: none;
        font-weight: inherit;
        color: inherit;
    }

    &[aria-disabled='true'] {
        opacity: 0.875;
        cursor: not-allowed;
    }
}

abbr[title] {
    text-decoration: dotted underline #{var-stroke-relative('400')};
    cursor: help;
}

/* ## Typography - Block ==================================== */

p {
    margin-block: #{var-mrg-soft('400')} 0;

    hr + & {
        margin-block-start: 0;
    }
}

blockquote {
    @include centre-callout-block(config.$include_html);
    margin-block: #{var-mrg-soft('400')} 0;
}

pre,
code {
    position: relative;
}

code {
}

pre {
    @include centre-callout-block(config.$include_html);
    margin-block: #{var-mrg-soft('400')} 0;
    width: fit-content;
    max-width: min(80ch, 100%);
    overflow: visible; /* otherwise the code block's focus ring is hidden */
    font-size: #{var-fs(smaller-1)};

    > code {
        display: block;
        margin: 0;
        padding: 0;
        border: none;

        width: fit-content;
        max-width: 100%;
        overflow: auto;
    }
}

/* ## Typography - Headings ==================================== */

.heading,
%heading {
    @include heading;
}

h1,
.h1,
%h1,
%title {
    @include heading('title');
    // @include heading('1');
}

h2,
.h2,
%h2 {
    @include heading('2');
}

h3,
.h3,
%h3 {
    @include heading('3');
}

h4,
.h4,
%h4 {
    @include heading('4');
}

h5,
.h5,
%h5 {
    @include heading('5');
}

h6,
.h6,
%h6 {
    @include heading('6');
}
