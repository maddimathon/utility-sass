///
/// @package @maddimathon/utility-sass@0.1.0-alpha.26
/// @since 0.1.0-pre.0
///

@use '../../modules/list';
@use '../../modules/math';
@use '../../modules/meta';
@use '../../modules/string';

@use '../../config';

///
/// Returns a clamp value for given font size (uses svw).
///
/// @param {number} $size  Rem/em value.
/// @param {bool} $relative  Optional. Whether to return a relative value.
///
/// @returns {calc}
///
/// @since 0.1.0-pre.0
/// @since 0.1.0-alpha.18 â€” Added $relative param.
///
@function clamp-font-size($size, $relative: false) {
    @if meta.type-of($size) != number {
        @warn "$size should be a number";
        @return math.add-unit($size, if($relative, 1em, 1rem));
    }

    $clamp_min: math.round-to-pixel(
        $size * config.$fn_clampFontSize_multiplier_min
    );

    $clamp_goal_svw: math.round-to-pixel(
        $size * config.$fn_clampFontSize_multiplier_svw
    );

    $clamp_max: math.round-to-pixel(
        $size * config.$fn_clampFontSize_multiplier_max
    );

    $unit: if($relative, 1em, 1rem);

    @return clamp(
        math.add-unit($clamp_min, $unit),
        calc(
            math.add-unit($clamp_goal_svw, 1svw) +
                math.add-unit(config.$fn_clampFontSize_svw_rem, $unit)
        ),
        math.add-unit($clamp_max, $unit)
    );
}

///
/// Returns a css-friendly font-family value for a monospace system font stack.
///
/// @see {@link list.font-list}  Used to format the font list before return.
///
/// @since 0.1.0-pre.0
///
@function font-family-system-monospace() {
    @return list.font-list(
        (
            ui-monospace,
            SFMono-Regular,
            Consolas,
            Liberation Mono,
            Menlo,
            monospace
        )
    );
}

///
/// Returns a css-friendly font-family value for a system font stack.
///
/// @see {font-list}  Used to format the font list before return.
///
/// @since 0.1.0-pre.0
///
@function font-family-system-ui() {
    @return list.font-list(
        (
            system-ui,
            -apple-system,
            BlinkMacSystemFont,
            Segoe UI,
            Roboto,
            Oxygen-Sans,
            Ubuntu,
            Cantarell,
            Helvetica Neue,
            Helvetica,
            Arial,
            sans-serif,
            Apple Color Emoji,
            Segoe UI Emoji,
            Segoe UI Symbol
        )
    );
}
