///
/// @package @maddimathon/utility-sass@0.1.0-alpha.29
/// @since 0.1.0-pre.0
///

@use '../../../config';

@use '../../../modules/math';
@use '../../../modules/meta';
@use '../../../modules/string';

@use '../../01-functions' as *;

// @use '02-01-01-accessibility' as *;

/// # UTILITY MIXINS - Breakpoints
/// ======================================================================== ///

///
/// Adds in a [min|max]-[height|width] media query with the given breakpoint.
///
/// @since 0.1.0-pre.0
///
@mixin breakpoint($point, $type) {
    @each $key, $value in config.$breakpoints {
        @if ($point == $key) {
            $point: $value;
        }
    }

    @if meta.type-of($point) != number {
        @warn "$point should be a key of config.$breakpoints or a number but it was a: #{meta.type-of( $point )} (#{$point})";
    } @else {
        @if not math.is-unitless($point) {
            @error 'Breakpoint #{$point} should not have a unit. An em unit will be added by the mixin.';
            $point: math.deunit($point);
        }

        $point: math.round-to-pixel($point);

        @if string.slice($type, 1, 3) == max {
            $point: $point - 0.01;
        }

        @media ( #{$type}: #{$point}em ) {
            @content;
        }
    }
}

@mixin min-width($point) {
    @include breakpoint($point, 'min-width') {
        @content;
    }
}
@mixin max-width($point) {
    @include breakpoint($point, 'max-width') {
        @content;
    }
}

@mixin min-height($point) {
    @include breakpoint($point, 'min-height') {
        @content;
    }
}
@mixin max-height($point) {
    @include breakpoint($point, 'max-height') {
        @content;
    }
}

@mixin min-all($min-width, $min-height) {
    @include breakpoint($min-width, 'min-width') {
        @include breakpoint($min-height, 'min-height') {
            @content;
        }
    }
}
@mixin max-all($max-width, $max-height) {
    @include breakpoint($max-width, 'max-width') {
        @include breakpoint($max-height, 'max-height') {
            @content;
        }
    }
}

@mixin minmax-width($min, $max) {
    @include breakpoint($min, 'min-width') {
        @include breakpoint($max, 'max-width') {
            @content;
        }
    }
}
@mixin minmax-height($min, $max) {
    @include breakpoint($min, 'min-height') {
        @include breakpoint($max, 'max-height') {
            @content;
        }
    }
}
