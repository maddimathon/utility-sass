///
/// @package @maddimathon/utility-sass@0.1.0-alpha.draft
/// @since 0.1.0-alpha.draft
///

@use '../../../config';
@use '../../../tokens';

@use '../../../modules/map';
@use '../../../modules/selector';

@use '../../01-functions' as *;

// @use '../02-01-utilities' as *;
@use '../02-02-theming' as *;

// @use '02-03-01-utilities' as *;

/// # PROPERTY MIXINS - Tokens
/// ======================================================================== ///

///
/// Prints out the font size custom property tokens based on config.
///
/// @since 0.1.0-alpha.draft
///
@mixin tokens-font-size {
    /* #region Tokens - Font Size */
    #{selector.parent-or-root()} {
        @each $slug, $_value in tokens.$font_sizes {
            @each $value in fs-value($slug) {
                --fs-#{$slug}: #{$value};
            }
        }
    }
    /* #endregion Tokens - Font Size */
}

///
/// Prints out the line height custom property tokens based on config.
///
/// @since 0.1.0-alpha.draft
///
@mixin tokens-line-height {
    /* #region Tokens - Line Heights */
    #{selector.parent-or-root()} {
        @each $slug, $_value in tokens.$line_heights {
            --line-height-#{$slug}: #{line-height-value($slug)};
        }
    }
    /* #endregion Tokens - Line Heights */
}

///
/// Prints out the margin custom property tokens based on config.
///
/// @since 0.1.0-alpha.draft
///
@mixin tokens-margin {
    $selector: selector.parent-or-root();

    /* #region Tokens - Margin */
    #{$selector} {
        @each $level, $_value in tokens.$margins {
            --mrg-firm-#{$level}: #{mrg-value-firm($level)}rem;
        }
    }

    #{$selector} {
        @each $level, $_value in tokens.$margins {
            --mrg-soft-#{$level}: #{mrg-value-soft($level)}rem;
        }
    }

    #{$selector} {
        @each $level, $_value in tokens.$margins {
            --mrg-half-#{$level}: #{mrg-value-half($level)}rem;
        }
    }
    /* #endregion Tokens - Margin */
}

$_systemColors: get-sys-colours();

///
/// Prints out the line height custom property default values based on config.
///
/// @since 0.1.0-alpha.draft
///
@mixin tokens-sys-colours($clrOverrides: (), $includeForcedColours: true) {
    $map: map.merge($_systemColors, $clrOverrides);

    /* #region Tokens - System Colours */
    :where(#{selector.parent-or-root()}) {
        @each $slug, $list in $map {
            @each $value in $list {
                --sys-clr-#{$slug}: #{$value};
            }
        }
    }

    @if $includeForcedColours {
        @include forced-colors {
            @each $slug, $list in $map {
                @each $value in $list {
                    --sys-clr-#{$slug}: #{$value} !important;
                }
            }
        }
    }
    /* #endregion Tokens - System Colours */
}

///
/// Prints out the width custom property tokens based on breakpoints config.
///
/// @since 0.1.0-alpha.draft
///
@mixin tokens-width {
    /* #region Tokens - Width */
    #{selector.parent-or-root()} {
        @each $slug, $_value in config.$widths {
            @each $value in width-value($slug) {
                --width-#{$slug}: #{$value};
            }
        }
    }
    /* #endregion Tokens - Width */
}
