///
/// @package @maddimathon/utility-sass@0.1.0-pre.1
/// @since 0.1.0-pre.0
///
@use 'sass:list';
@use 'sass:meta';

///
/// Compares items of a list and returns only those that match with
/// $only (as strings).
///
/// @param {list}    $list       To test.
/// @param {string}  $only       Value to exclude from the list.
/// @param {?string} $separator  Optional. List separator. Default is determine via list.separator().
/// @param {?bool}   $bracketed  Optional. Whether list is bracketed. Default is determine via list.is-bracketed().
///
/// @return {list}
///
/// @since 0.1.0-pre.0
///
@function only($list, $only, $separator: null, $bracketed: null) {
    // returns
    @if meta.type-of($list) != list {
        @return $list;
    }

    @if $bracketed == null {
        $bracketed: list.is-bracketed($list);
    }

    @if $separator == null {
        $separator: list.separator($list);
    }

    $filteredList: list.join(
        (),
        (),
        $separator: $separator,
        $bracketed: $bracketed
    );

    @each $item in $list {
        //
        @if '#{$item}' == '#{$only}' {
            //
            $filteredList: list.append(
                $filteredList,
                $item,
                $separator: $separator
            );
        }
    }

    @return $filteredList;
}
