///
/// @package @maddimathon/utility-sass@0.1.0-alpha.20
/// @since 0.1.0-pre.0
///
@use 'sass:map';
@use 'sass:meta';

@use '../list';

///
/// Sorts a map by the value of its keys.
///
/// @param {map}                $map
/// @param {?'number'|'string'} $sortAs     Optional. How to sort the keys. Default 'string'.
/// @param {?bool}              $recursive  Optional. Whether to sort maps recursively. Default false.
/// @param {?bool}              $reverse    Optional. Whether to sort the keys in reverse order. Default false.
///
/// @since 0.1.0-pre.0
///
@function ksort($map, $sortAs: 'string', $recursive: false, $reverse: false) {
    // sorts the keys
    $ordered_keys: list.sort(map.keys($map), $sortAs: $sortAs);

    @if $reverse {
        $ordered_keys: list.reverse($ordered_keys);
    }

    $ordered_map: ();

    @each $key in $ordered_keys {
        $value: map.get($map, $key);

        @if $recursive and meta.type-of($value) == map {
            $value: ksort($value, $sortAs: $sortAs, $recursive: $recursive);
        }

        $ordered_map: map.set($ordered_map, $key, $value);
    }

    @return $ordered_map;
}
