///
/// @package @maddimathon/utility-sass@0.1.0-alpha.2
/// @since 0.1.0-alpha
///

@use 'sass:meta';

@use '../../config';

@use 'get-selector' as *;

///
/// @since 0.1.0-pre.0
/// @since 0.1.0-alpha — Moved from library to own module.
///
@mixin js($args...) {
    $args: meta.keywords($args);

    @at-root #{get-selector(
        $key: null,
        $bool: true,
        $args...,
    )} {
        @content;
    }
}

///
/// @since 0.1.0-pre.0
/// @since 0.1.0-alpha — Moved from library to own module.
///
@mixin no-js($args...) {
    $args: meta.keywords($args);

    @at-root #{get-selector(
        $key: null,
        $bool: false,
        $args...,
    )} {
        @content;
    }
}

///
/// @since 0.1.0-pre.0
/// @since 0.1.0-alpha — Moved from library to own module.
///
@mixin js-support($key, $args...) {
    $args: meta.keywords($args);

    @if $key == whereSelector {
        @include js($args...) {
            @content;
        }
    } @else {
        @at-root #{get-selector( $key, true, $args... )} {
            @content;
        }
    }
}

///
/// @since 0.1.0-pre.0
/// @since 0.1.0-alpha — Moved from library to own module.
///
@mixin js-no-support(
    $key,
    $addSelectors: (),
    $addSelectors_noJS: (),
    $args...
) {
    $args: meta.keywords($args);

    @include no-js(
        $addSelectors: if(
                $key == whereSelector,
                $addSelectors,
                $addSelectors_noJS
            ),
        $args...
    ) {
        @content;
    }

    @if $key != whereSelector {
        @at-root #{get-selector( $key, false, $addSelectors: $addSelectors, $args... )} {
            @content;
        }
    }
}
