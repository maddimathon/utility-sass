///
/// @package @maddimathon/utility-sass@0.1.0-pre.2
/// @since 0.1.0-pre.0
///
@use 'sass:color';
@use 'sass:math';
@use 'sass:meta';

///
/// Converts given colour to an hsl css function.
///
/// @param {color} $clr
///
/// @return {color}
///
/// @since 0.1.0-pre.0
///
@function to-hsl($clr, $round: true) {
    @if meta.type-of($clr) != 'color' {
        @warn "$clr should be a colour (was #{meta.type-of( $clr )})";
        @return $clr;
    }

    $clr: color.to-space($clr, hsl);

    $rounding_factor: if($round, 1, 100);

    @return hsl(
        calc(
            math.round(
                    color.channel($clr, 'hue', $space: hsl) * $rounding_factor
                ) /
                $rounding_factor
        ),
        math.clamp(
            0%,
            calc(
                math.round(
                        color.channel($clr, 'saturation', $space: hsl) *
                            $rounding_factor
                    ) /
                    $rounding_factor
            ),
            100%
        ),
        math.clamp(
            0%,
            calc(
                math.round(
                        color.channel($clr, 'lightness', $space: hsl) *
                            $rounding_factor
                    ) /
                    $rounding_factor
            ),
            100%
        )
    );
}
