///
/// @package @maddimathon/utility-sass@0.1.0-alpha.40
/// @since 0.1.0-pre.0
///

@use 'sass:math';
@use 'sass:meta';

///
/// Tries to get slightly nicer outputed numbers for calculated em and rem values.
///
/// @param {number} $num
/// @param {number} $factor
/// @param {?"ceil"|"floor"} $method. Optional. Rounding method, if any.
///
/// @return {number}
///
/// @since 0.1.0-pre.0
/// @since 0.1.0-alpha.29 â€” Added $method param.
///
@function round-to-pixel($num, $factor: 16, $method: null) {
    // returns
    @if meta.type-of($num) != number {
        @warn "[math.round-to-pixel] $num should be a number but it was a: #{meta.type-of( $num )}";
        @return $num;
    }

    // returns
    @if meta.type-of($factor) != number {
        @warn "[math.round-to-pixel] $factor should be a number but it was a: #{meta.type-of( $factor )}";
        $factor: 16;
    }

    @if $factor == 0 {
        $factor: 1;
    }

    $rounded: $num;

    @if $method == 'ceil' {
        $rounded: math.ceil($num * $factor);
    } @else if $method == 'floor' {
        $rounded: math.floor($num * $factor);
    } @else {
        $rounded: math.round($num * $factor);
    }

    @return math.div($rounded, $factor);
}
