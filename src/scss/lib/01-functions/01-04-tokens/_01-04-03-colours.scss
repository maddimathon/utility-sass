///
/// @package @maddimathon/utility-sass@___CURRENT_VERSION___
/// @since 0.1.0-pre.0
///

@use '../../../config';

@use '../../../modules/list';
@use '../../../modules/map';
@use '../../../modules/meta';

// #region $_systemColors
$_systemColors: (
    background: Canvas,
    text: CanvasText,

    // SETS
    accent-bg: (
            CanvasText,
            AccentColor,
        ),
    accent-text: (
        Canvas,
        AccentColorText,
    ),
    mark-bg: (
        CanvasText,
        AccentColor,
        Mark,
    ),
    mark-text: (
        Canvas,
        AccentColorText,
        MarkText,
    ),
    selected-bg: SelectedItem,
    selected-text: SelectedItemText,
    selection-bg: Highlight,
    selection-text: HighlightText,

    // TEXT
    text-active: ActiveText,
    text-disabled: GrayText,

    // BUTTONS
    button-bg: ButtonFace,
    button-bg-active: ButtonFace,
    button-bg-hover: SelectedItem,
    button-border: (
        ButtonFace,
        ButtonBorder,
    ),
    button-border-active: (
        ButtonFace,
        ButtonBorder,
    ),
    button-border-hover: SelectedItem,
    button-text: ButtonText,
    button-text-active: ButtonText,
    button-text-hover: SelectedItemText,

    // FORMS
    input-bg: Field,
    input-bg-hover: Field,
    input-bg-active: Field,
    input-border: FieldText,
    input-border-hover: FieldText,
    input-border-active: FieldText,
    input-text: FieldText,
    input-text-hover: FieldText,
    input-text-active: FieldText,

    // LINKS
    link: LinkText,
    link-active: ActiveText,
    link-hover: ActiveText,
    link-visited: VisitedText,
);
// #endregion $_systemColors

///
/// @since 0.1.0-pre.0
///
@function get-sys-colours() {
    @return $_systemColors;
}

///
/// @since 0.1.0-pre.0
///
@function var-sys-colour($slug) {
    @if not map.has-key($_systemColors, $slug) {
        @warn "$slug '#{$slug}' was not a key in the system colors";
        @return var(--#{config.$customPropertyPrefix}sys-clr-#{$slug});
    }

    $fallback: map.get($_systemColors, $slug);

    @if meta.type-of($fallback) == list and list.length($fallback) > 1 {
        $fallback: list.nth($fallback, 1);
    }

    @return var(
        --#{config.$customPropertyPrefix}sys-clr-#{$slug},
        #{$fallback}
    );
}
